<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:zeebe="http://camunda.org/schema/zeebe/1.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:modeler="http://camunda.org/schema/modeler/1.0" id="Definitions_1" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="5.36.1" modeler:executionPlatform="Camunda Cloud" modeler:executionPlatformVersion="8.7.0">
  <bpmn:collaboration id="BPMN">
    <bpmn:participant id="Participant_1xg4v9e" name="Perusahaan" processRef="Process1" />
    <bpmn:participant id="Participant_03raetb" name="Kustomer" />
    <bpmn:messageFlow id="Flow_1qxkdhj" sourceRef="Event_12tlrsg" targetRef="Participant_03raetb" />
    <bpmn:messageFlow id="Flow_14d5tkg" sourceRef="Event_0fi4k4h" targetRef="Participant_03raetb" />
  </bpmn:collaboration>
  <bpmn:message id="Message_34hh8cf" name="Purchase_Order">
    <bpmn:extensionElements>
      <zeebe:subscription correlationKey="=purchaseOrderId" />
    </bpmn:extensionElements>
  </bpmn:message>
  <bpmn:message id="Message_3bg7caq" name="Message_3bg7caq">
    <bpmn:extensionElements>
      <zeebe:subscription correlationKey="=customerOrderId" />
    </bpmn:extensionElements>
  </bpmn:message>
  <bpmn:message id="Message_0tpdj7e" name="Customer _Order">
    <bpmn:extensionElements>
      <zeebe:subscription correlationKey="=customerOrderId" />
    </bpmn:extensionElements>
  </bpmn:message>
  <bpmn:message id="Message_1n6b8em" name="Message_1n6b8em" />
  <bpmn:process id="Process1" isExecutable="true">
    <bpmn:laneSet id="LaneSet_08rwo4s">
      <bpmn:lane id="Lane_0a0s6fj" name="Sales">
        <bpmn:flowNodeRef>Event_02ifzux</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_02mnptj</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Event_12tlrsg</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Event_0fi4k4h</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_154eqsq</bpmn:flowNodeRef>
        <bpmn:childLaneSet id="LaneSet_0oe1msu" />
      </bpmn:lane>
      <bpmn:lane id="Lane_07qqupl" name="Logistik">
        <bpmn:flowNodeRef>Gateway_0my6xzs</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Gateway_1y4a0rh</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_1aqms96</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Gateway_0friyyr</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_1bjoahc</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_18069rd</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_1dyfepd</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Gateway_17mfpwl</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_0q7k3m5</bpmn:flowNodeRef>
      </bpmn:lane>
    </bpmn:laneSet>
    <bpmn:sequenceFlow id="Flow_091iifg" sourceRef="Event_02ifzux" targetRef="Activity_154eqsq" />
    <bpmn:sequenceFlow id="Flow_0jnmc4u" sourceRef="Activity_1bjoahc" targetRef="Gateway_0friyyr" />
    <bpmn:sequenceFlow id="Flow_10h3gsl" sourceRef="Gateway_1y4a0rh" targetRef="Activity_1bjoahc" />
    <bpmn:sequenceFlow id="Flow_1pgtlbl" sourceRef="Activity_18069rd" targetRef="Activity_1dyfepd" />
    <bpmn:sequenceFlow id="Flow_1sjfkta" sourceRef="Activity_0q7k3m5" targetRef="Gateway_0my6xzs" />
    <bpmn:sequenceFlow id="Flow_1weseok" sourceRef="Activity_154eqsq" targetRef="Activity_18069rd" />
    <bpmn:startEvent id="Event_02ifzux" name="Pesanan diterima">
      <bpmn:outgoing>Flow_091iifg</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:serviceTask id="Activity_02mnptj" name="Simpan Pesanan Kustomer">
      <bpmn:extensionElements>
        <zeebe:taskDefinition type="UpdateDatabase" />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1990uf5</bpmn:incoming>
      <bpmn:outgoing>Flow_1j8u1c3</bpmn:outgoing>
      <bpmn:dataOutputAssociation id="DataOutputAssociation_1xjzjyz">
        <bpmn:targetRef>DataStoreReference_0c8tds1</bpmn:targetRef>
      </bpmn:dataOutputAssociation>
    </bpmn:serviceTask>
    <bpmn:endEvent id="Event_12tlrsg" name="Informasi pesanan berhasil">
      <bpmn:extensionElements>
        <zeebe:taskDefinition type="OrderSuccess" />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1j8u1c3</bpmn:incoming>
      <bpmn:messageEventDefinition id="MessageEventDefinition_00x5q7w" />
    </bpmn:endEvent>
    <bpmn:exclusiveGateway id="Gateway_0my6xzs" name="Ada kendaraan dan supir yang tersedia?">
      <bpmn:incoming>Flow_1sjfkta</bpmn:incoming>
      <bpmn:outgoing>Flow_16t7tf7</bpmn:outgoing>
      <bpmn:outgoing>Flow_1wrapbx</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:parallelGateway id="Gateway_1y4a0rh">
      <bpmn:incoming>Flow_1wrapbx</bpmn:incoming>
      <bpmn:outgoing>Flow_0ha7qxk</bpmn:outgoing>
      <bpmn:outgoing>Flow_10h3gsl</bpmn:outgoing>
    </bpmn:parallelGateway>
    <bpmn:serviceTask id="Activity_1aqms96" name="Cetak Delivery Order (DO)">
      <bpmn:extensionElements>
        <zeebe:taskDefinition type="GetDO" />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0ha7qxk</bpmn:incoming>
      <bpmn:outgoing>Flow_1e1qah1</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:parallelGateway id="Gateway_0friyyr">
      <bpmn:incoming>Flow_1e1qah1</bpmn:incoming>
      <bpmn:incoming>Flow_0jnmc4u</bpmn:incoming>
      <bpmn:outgoing>Flow_1990uf5</bpmn:outgoing>
    </bpmn:parallelGateway>
    <bpmn:endEvent id="Event_0fi4k4h" name="Informasi pesanan gagal">
      <bpmn:extensionElements>
        <zeebe:taskDefinition type="OrderException" />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_16t7tf7</bpmn:incoming>
      <bpmn:incoming>Flow_0umuo67</bpmn:incoming>
      <bpmn:messageEventDefinition id="MessageEventDefinition_1mzsktv" />
    </bpmn:endEvent>
    <bpmn:dataStoreReference id="DataStoreReference_0c8tds1" name="Data pesanan kustomer" />
    <bpmn:sequenceFlow id="Flow_1990uf5" sourceRef="Gateway_0friyyr" targetRef="Activity_02mnptj" />
    <bpmn:sequenceFlow id="Flow_1j8u1c3" sourceRef="Activity_02mnptj" targetRef="Event_12tlrsg" />
    <bpmn:sequenceFlow id="Flow_16t7tf7" name="Tidak" sourceRef="Gateway_0my6xzs" targetRef="Event_0fi4k4h">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">=kendaraanAvailable = false</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_1wrapbx" name="Ya" sourceRef="Gateway_0my6xzs" targetRef="Gateway_1y4a0rh">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">=kendaraanAvailable = true</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_0ha7qxk" sourceRef="Gateway_1y4a0rh" targetRef="Activity_1aqms96" />
    <bpmn:sequenceFlow id="Flow_1e1qah1" sourceRef="Activity_1aqms96" targetRef="Gateway_0friyyr" />
    <bpmn:task id="Activity_1bjoahc" name="Koordinasi ekspedisi &#38; persiapan barang di gudang">
      <bpmn:incoming>Flow_10h3gsl</bpmn:incoming>
      <bpmn:outgoing>Flow_0jnmc4u</bpmn:outgoing>
    </bpmn:task>
    <bpmn:sequenceFlow id="Flow_0qo5nlg" sourceRef="Activity_1dyfepd" targetRef="Gateway_17mfpwl" />
    <bpmn:userTask id="Activity_154eqsq" name="Input Pesanan Kustomer">
      <bpmn:extensionElements>
        <zeebe:userTask />
        <zeebe:properties>
          <zeebe:property name="camundaModeler:exampleOutputJson" value="{&#34;namaProduk&#34;:&#34;Test&#34;,&#34;jumlah&#34;:&#34;1&#34;}" />
        </zeebe:properties>
        <zeebe:formDefinition formId="input-pesanan-kustomer" />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_091iifg</bpmn:incoming>
      <bpmn:outgoing>Flow_1weseok</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:task id="Activity_18069rd" name="Menerima Pesanan">
      <bpmn:incoming>Flow_1weseok</bpmn:incoming>
      <bpmn:outgoing>Flow_1pgtlbl</bpmn:outgoing>
    </bpmn:task>
    <bpmn:serviceTask id="Activity_1dyfepd" name="Cek Ketersediaan Stok">
      <bpmn:extensionElements>
        <zeebe:taskDefinition type="CheckInventory" />
        <zeebe:properties>
          <zeebe:property name="endpoint" value="https://dummyjson.com/test" />
          <zeebe:property name="method" value="GET" />
        </zeebe:properties>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1pgtlbl</bpmn:incoming>
      <bpmn:outgoing>Flow_0qo5nlg</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="Flow_0jcv4ik" name="Ya" sourceRef="Gateway_17mfpwl" targetRef="Activity_0q7k3m5">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">=itemAvailable = true</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:exclusiveGateway id="Gateway_17mfpwl" name="Apakah barang tersedia?">
      <bpmn:incoming>Flow_0qo5nlg</bpmn:incoming>
      <bpmn:outgoing>Flow_0jcv4ik</bpmn:outgoing>
      <bpmn:outgoing>Flow_0umuo67</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:serviceTask id="Activity_0q7k3m5" name="Menentukan Kendaraan Pengangkut">
      <bpmn:extensionElements>
        <zeebe:taskDefinition type="GetKendaraanPengangkut" />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0jcv4ik</bpmn:incoming>
      <bpmn:outgoing>Flow_1sjfkta</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="Flow_0umuo67" name="Tidak" sourceRef="Gateway_17mfpwl" targetRef="Event_0fi4k4h">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">=itemAvailable = false</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
  </bpmn:process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="BPMN">
      <bpmndi:BPMNShape id="BPMNShape_15utfsj" bpmnElement="Participant_1xg4v9e" isHorizontal="true">
        <dc:Bounds x="160" y="190" width="1470" height="440" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_1e6oex1" bpmnElement="Lane_07qqupl" isHorizontal="true">
        <dc:Bounds x="190" y="370" width="1440" height="260" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_1147a76" bpmnElement="Lane_0a0s6fj" isHorizontal="true">
        <dc:Bounds x="190" y="190" width="1440" height="180" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_0ofl369" bpmnElement="Event_02ifzux">
        <dc:Bounds x="252" y="262" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="229" y="305" width="86" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_02ghlhw" bpmnElement="Activity_02mnptj">
        <dc:Bounds x="1330" y="240" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_1lpgg5e" bpmnElement="Event_12tlrsg">
        <dc:Bounds x="1522" y="262" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1499" y="305" width="84" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_15h3bcu" bpmnElement="Gateway_0my6xzs" isMarkerVisible="true">
        <dc:Bounds x="915" y="425" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="903" y="500" width="75" height="40" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_03y2kin" bpmnElement="Gateway_1y4a0rh">
        <dc:Bounds x="1055" y="425" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_0bpytr0" bpmnElement="Activity_1aqms96">
        <dc:Bounds x="1180" y="410" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_1e11ic7" bpmnElement="Gateway_0friyyr">
        <dc:Bounds x="1355" y="425" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_0gttjw3" bpmnElement="Event_0fi4k4h">
        <dc:Bounds x="922" y="262" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="967.5" y="266" width="73" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_0p5u85b" bpmnElement="DataStoreReference_0c8tds1">
        <dc:Bounds x="1445" y="355" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1436" y="412" width="69" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_01ek9gg" bpmnElement="Activity_1bjoahc">
        <dc:Bounds x="1180" y="520" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_1mfmus9" bpmnElement="Activity_154eqsq">
        <dc:Bounds x="340" y="240" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_05thwa7" bpmnElement="Activity_18069rd">
        <dc:Bounds x="340" y="410" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1y23oi1_di" bpmnElement="Activity_1dyfepd">
        <dc:Bounds x="480" y="410" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_17mfpwl_di" bpmnElement="Gateway_17mfpwl" isMarkerVisible="true">
        <dc:Bounds x="625" y="425" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="613" y="496" width="75" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_0nwyxgf" bpmnElement="Activity_0q7k3m5">
        <dc:Bounds x="740" y="410" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="BPMNEdge_1fing00" bpmnElement="Flow_091iifg">
        <di:waypoint x="288" y="280" />
        <di:waypoint x="340" y="280" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_1w0wpz7" bpmnElement="Flow_1weseok">
        <di:waypoint x="390" y="320" />
        <di:waypoint x="390" y="410" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_1hx029p" bpmnElement="Flow_1pgtlbl">
        <di:waypoint x="440" y="450" />
        <di:waypoint x="480" y="450" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_1xfp3qk" bpmnElement="Flow_1sjfkta">
        <di:waypoint x="840" y="450" />
        <di:waypoint x="915" y="450" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_0m8ui51" bpmnElement="Flow_10h3gsl">
        <di:waypoint x="1080" y="475" />
        <di:waypoint x="1080" y="560" />
        <di:waypoint x="1180" y="560" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_0mdmlt3" bpmnElement="Flow_0jnmc4u">
        <di:waypoint x="1280" y="560" />
        <di:waypoint x="1380" y="560" />
        <di:waypoint x="1380" y="475" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_1v1r18x" bpmnElement="Flow_1990uf5">
        <di:waypoint x="1380" y="425" />
        <di:waypoint x="1380" y="320" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_0w2agje" bpmnElement="Flow_1j8u1c3">
        <di:waypoint x="1430" y="280" />
        <di:waypoint x="1522" y="280" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_1ob8jz4" bpmnElement="Flow_16t7tf7">
        <di:waypoint x="940" y="425" />
        <di:waypoint x="940" y="298" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="942" y="393" width="28" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_08u0uic" bpmnElement="Flow_1wrapbx">
        <di:waypoint x="965" y="450" />
        <di:waypoint x="1055" y="450" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1004" y="432" width="13" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_0t79v1a" bpmnElement="Flow_0ha7qxk">
        <di:waypoint x="1105" y="450" />
        <di:waypoint x="1180" y="450" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_1bpb2f6" bpmnElement="Flow_1e1qah1">
        <di:waypoint x="1280" y="450" />
        <di:waypoint x="1355" y="450" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0qo5nlg_di" bpmnElement="Flow_0qo5nlg">
        <di:waypoint x="580" y="450" />
        <di:waypoint x="625" y="450" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0jcv4ik_di" bpmnElement="Flow_0jcv4ik">
        <di:waypoint x="675" y="450" />
        <di:waypoint x="740" y="450" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="693" y="432" width="13" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0umuo67_di" bpmnElement="Flow_0umuo67">
        <di:waypoint x="650" y="425" />
        <di:waypoint x="650" y="280" />
        <di:waypoint x="922" y="280" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="656" y="343" width="28" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="BPMNShape_0a5ghpa" bpmnElement="Participant_03raetb" isHorizontal="true">
        <dc:Bounds x="160" y="85" width="1248" height="60" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="BPMNEdge_1ijtbd6" bpmnElement="Flow_1qxkdhj">
        <di:waypoint x="1540" y="262" />
        <di:waypoint x="1540" y="204" />
        <di:waypoint x="1320" y="204" />
        <di:waypoint x="1320" y="145" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_17j5xex" bpmnElement="Flow_14d5tkg">
        <di:waypoint x="940" y="262" />
        <di:waypoint x="940" y="145" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_079l89b" bpmnElement="DataOutputAssociation_1xjzjyz">
        <di:waypoint x="1404" y="320" />
        <di:waypoint x="1458" y="355" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
